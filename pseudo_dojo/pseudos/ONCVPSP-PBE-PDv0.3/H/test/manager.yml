# Hardware specification.
westmere: &westmere
   num_nodes: 274
   sockets_per_node: 2
   cores_per_socket: 6
   mem_per_node: 24 Gb

ivybridge: &ivybridge
   num_nodes: 342
   sockets_per_node: 2
   cores_per_socket: 12
   mem_per_node: 64 Gb

# Environment, modules, and parameters used to launch jobs.
job: &job
    mpi_runner: mpirun
    shell_env:
         PATH: /projects/acad/napsimu/software/abinit/7.11.5/dev/bin/:$PATH
    modules:
        - compiler/intel/composerxe/2013_sp1.1.106
        - intelmpi
        - python/2.7
    pre_run: |
        source ~/to_dojo
        ulimit  # pre_run is a string in verbatim mode (note |)

# List of qdapters. 
qadapters:
  # Westmere default.
  - priority: 99
    queue: 
       qname: main
       qtype: pbspro
       qparams:
         group_list: tcos
         qverbatim: |
           #PBS -r y
    limits:
       timelimit: 4:00:0
       min_cores: 1
       max_cores: 24
    job: *job
    hardware: *westmere 

# Connection to the MongoDb database (optional) 
db_connector:
    enabled: no
    database: abinit 
    collection: test
    #host: 0.0.0.0 
    #port: 8080 
    #user: gmatteo
    #password: helloworld
